report_comment: >
  This report has been generated by the <a href="https://github.com/PavlidisLab/sc-annotation-pipeline" target="_blank">PavlidisLab/sc-annotation-pipeline</a>
  analysis pipeline.

data_format: 'yaml'

run_modules:
    - custom_content

custom_data:

  celltype_umap:
    section_name: 'Cell type UMAP'
    description: 'UMAP of the cell type labels, sample names and leiden clusters'
    file_format: 'png'

  sample_celltype_composition:
    section_name: 'Sample cell type composition'
    description: 'Composition per sample of predicted cell types'
    file_format: 'tsv'
    plot_type: 'barplot'

  celltype_sample_composition:
    section_name: 'Cell type sample composition'
    description: 'Composition per cell type of samples'
    file_format: 'tsv'
    plot_type: 'barplot' 

  markers_heatmap:
    section_name: 'Cell type markers'
    description: 'Expression of select markers. Count are averaged across cell-type labels and z-score normalized across genes.'
    file_format: 'tsv'
    plot_type: 'heatmap'

  cluster_celltype_composition:
    section_name: 'Leiden cluster composition (cell types)'
    description: >
      Leiden clustering performed on log-transformed data with top 2000 variable genes,
      10 PCs, 30 neighbors, resolution = 0.3
    file_format: 'tsv'
    plot_type: 'barplot'


sp:

  celltype_umap:
    fn: "*celltype_umap_mqc.png"
 
  markers_heatmap:
    fn: "*heatmap_mqc.tsv"

  cluster_celltype_composition:
    fn: "*cluster_celltypes_mqc.tsv"
  
  markers_table:
    fn: "*cell_type_markers_mqc.tsv"

  sample_celltype_composition:
    fn: "*sample_counts_mqc.tsv"

  celltype_sample_composition:
    fn "*celltype_counts_mqc.tsv"


custom_content:
  order:
    - celltype_sample_composition
    - sample_celltype_composition
    - cluster_celltype_composition
    - markers_heatmap
    - celltype_umap

